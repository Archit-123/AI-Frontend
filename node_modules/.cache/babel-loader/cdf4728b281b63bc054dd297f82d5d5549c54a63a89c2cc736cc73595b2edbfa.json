{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import axios from\"axios\";import\"./Chat1.css\";// import HamburgerMenu from \"./HamburgerMenu\";\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Chat1(){const[msg,setMsg]=useState(\"\");const[msgs,setMsgs]=useState([]);const[botMsgs,setBotMsgs]=useState([]);const msgBodyRef=useRef(null);useEffect(()=>{if(msgBodyRef.current){msgBodyRef.current.scrollTop=msgBodyRef.current.scrollHeight;}},[msgs]);const HandleSubmit=async e=>{e.preventDefault();if(!msg.trim())return;setMsgs(prevMsgs=>[...prevMsgs,msg]);setMsg(\"\");try{const response=await axios.post(\"http://localhost:5001/msg\",{message:msg});const botReply=response.data.reply;setBotMsgs(prevBotMsgs=>[...prevBotMsgs,botReply]);}catch(error){console.error(\"Error sending message:\",error);}};const[flagforHam,setFlagforHam]=useState(true);const HandleHam=()=>{setFlagforHam(!flagforHam);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[flagforHam&&/*#__PURE__*/_jsx(\"div\",{className:\"navbar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"child-navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ais\",children:\"Text-Text\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ais\",children:\"Text,Image-Text\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ais\",children:\"Text-Image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ais\",children:\"Image-Image\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"child-main\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ham1\",onClick:HandleHam,children:\"\\u2630\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"AI-Chat\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ul\",ref:msgBodyRef,children:msgs.map((message,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"parent-msg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-msg msg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"user-p\",children:message})}),/*#__PURE__*/_jsx(\"div\",{className:\"bot-msg msg\",children:/*#__PURE__*/_jsx(\"p\",{children:botMsgs[index]})})]},index))}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:HandleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"child-form\",type:\"text\",placeholder:\"Ask anything\",onChange:e=>setMsg(e.target.value),value:msg}),/*#__PURE__*/_jsx(\"button\",{className:\"child-form btn\",type:\"submit\",children:\"Send\"})]})]})]})]})});}","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Chat1","msg","setMsg","msgs","setMsgs","botMsgs","setBotMsgs","msgBodyRef","current","scrollTop","scrollHeight","HandleSubmit","e","preventDefault","trim","prevMsgs","response","post","message","botReply","data","reply","prevBotMsgs","error","console","flagforHam","setFlagforHam","HandleHam","children","className","onClick","ref","map","index","onSubmit","type","placeholder","onChange","target","value"],"sources":["E:/Programs/2025 programs/aichat/frontend/src/Chat1.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Chat1.css\";\r\n// import HamburgerMenu from \"./HamburgerMenu\";\r\n\r\nexport default function Chat1() {\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [msgs, setMsgs] = useState([]);\r\n  const [botMsgs, setBotMsgs] = useState([]);\r\n  const msgBodyRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (msgBodyRef.current) {\r\n      msgBodyRef.current.scrollTop = msgBodyRef.current.scrollHeight;\r\n    }\r\n  }, [msgs]);\r\n\r\n  const HandleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!msg.trim()) return;\r\n\r\n    setMsgs((prevMsgs) => [...prevMsgs, msg]);\r\n    setMsg(\"\");\r\n    try {\r\n      const response = await axios.post(\"http://localhost:5001/msg\", {\r\n        message: msg,\r\n      });\r\n\r\n      const botReply = response.data.reply;\r\n\r\n      setBotMsgs((prevBotMsgs) => [...prevBotMsgs, botReply]);\r\n    } catch (error) {\r\n      console.error(\"Error sending message:\", error);\r\n    }\r\n  };\r\n\r\n  const [flagforHam, setFlagforHam] = useState(true);\r\n  const HandleHam = () => {\r\n    setFlagforHam(!flagforHam);\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"main\">\r\n        {flagforHam && (\r\n          <div className=\"navbar\">\r\n            <div className=\"child-navbar\">\r\n              <div className=\"ais\">Text-Text</div>\r\n              <div className=\"ais\">Text,Image-Text</div>\r\n              <div className=\"ais\">Text-Image</div>\r\n              <div className=\"ais\">Image-Image</div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div className=\"child-main\">\r\n          <div className=\"ham1\" onClick={HandleHam}>\r\n            â˜°\r\n          </div>\r\n          <div className=\"box\">\r\n            <h3>AI-Chat</h3>\r\n            <div className=\"ul\" ref={msgBodyRef}>\r\n              {msgs.map((message, index) => (\r\n                <div className=\"parent-msg\" key={index}>\r\n                  <div className=\"user-msg msg\">\r\n                    <p className=\"user-p\">{message}</p>\r\n                  </div>\r\n                  <div className=\"bot-msg msg\">\r\n                    <p>{botMsgs[index]}</p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <form onSubmit={HandleSubmit}>\r\n              <input\r\n                className=\"child-form\"\r\n                type=\"text\"\r\n                placeholder=\"Ask anything\"\r\n                onChange={(e) => setMsg(e.target.value)}\r\n                value={msg}\r\n              />\r\n              <button className=\"child-form btn\" type=\"submit\">\r\n                Send\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}